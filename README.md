# Baboon Labels Filter
Tool to filter out parts of tracks from hand-labeled data where baboons are not moving. Our experimental tracking algorithms heavily rely on movement, so to properly test, we forfeit trying to track still baboons.

# Tools
## XML to CSV
This script converts the tracks generated by [labelfficient](https://github.com/dajes/labelfficient) into "Baboons on the Move's" conventional label format which are CSV files with the header of:

|frame|xmin|ymin|xmax|ymax|
|---|---|---|---|---|

### Usage
|Parameter|Type|Default|Description|
|---|---|---|---|
|directory|string|frames_Annotations|Directory containing XML files generated from labelfficient.|

```bash
poetry run python xml-to-csv.py <directory>
```

## Movement Filter
This script takes in labels in the CSV above format and removes parts of tracks where baboons are not moving.

### Usage
|Parameter|Type|Default|Description|
|---|---|---|---|
|csv|string| labels.csv | CSV file containing bounding box coordinates. |
|max_distance|int| |Max distance two labels for the same baboon can be apart (in pixels).|
|min_distance|int| |Min distance a baboon must travel to be considered moving (in pixels).|
|min_frames_flip_flop|int| |Min number of consecutive frames a baboon must be still or moving to change state.|

```bash
poetry run python movement-filter.py --csv="labels.csv" --max_distance=10 --min_distance=3 --min_frames_flip_flop=5
```

